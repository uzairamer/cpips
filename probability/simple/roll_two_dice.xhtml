<problem>
  <script type="loncapa/python">
  from random import randint,choice  
  def inputs(sides):
    '''Given the number of sides of a die, this randomly splits the 
      list of outcomes from rolling a die, into two lists'''
    split_at = randint(1,sides-1) 
    return range(1,sides+1)[:split_at],range(1,sides+1)[split_at:]
    
  def stringify(a_list):
    '''Given a python list, this returns a comma separated string 
     representation of the list, separates the last two elements with or'''
    return ' or '.join([', '.join(a_list[:-1]),a_list[-1]] if len(a_list) > 2 else a_list)
  
  def compare(f1,f2,tol=0.0001):
    return abs(f1 - f2) &lt; tol
  
  def check_answer(expected,answer):
    return compare(eval(answer),float(expected))
      
  #You can add more dice types to these arrays
  dice_a_sides = choice([4]) 
  dice_b_sides = choice([6]) 
  
  x1,x2 = inputs(sides=dice_a_sides)
  x1_str = stringify(a_list=map(str,x1))
  x2_str = stringify(a_list=map(str,x2))
  
  all_pairs = [[a,b] for a in x1 for b in range(1,dice_b_sides+1)]
  all_values = [x[0]+x[1] for x in all_pairs]
  
  x3 = all_values[randint(1,len(all_values)-2)]
  
  answer = round(sum(x >= x3 for x in all_values) /  len(all_values),3)
  </script>
  <p>
   Roll a <b>$dice_a_sides</b>-sided die and a second <b>$dice_b_sides</b>-sided die. 
   Given that the first <b>$dice_a_sides</b>-sided die has a result of <b>$x1_str</b> 
  (but not <b>$x2_str</b>), find the conditional probability that the sum of the two dice
   is <b>$x3</b> or larger. 
  </p>
  <customresponse cfn="check_answer" expect="$answer">
      <textline size="10" correct_answer="$answer" />
  </customresponse>
  <solution>
    <p><b>Explanation:</b></p>
    <p>
    Here are all the possible outcomes of this experiment:
     </p>
    <p>$all_pairs</p>
    <p>
      You can divide the number of outcomes matching the condition by 
      the total number of outcomes. 
    </p> 
  </solution>
  </problem>